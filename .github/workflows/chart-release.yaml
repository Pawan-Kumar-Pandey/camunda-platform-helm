name: "Chart - Release"

on:
  push:
    branches:
    - alpha

concurrency:
  group: ${{ github.workflow }}-${{ github.event.pull_request.number || github.ref }}
  cancel-in-progress: true

permissions:
  contents: read
  packages: write
  id-token: write

jobs:
  release-alpha:
    name: Camunda Alpha
    uses: ./.github/workflows/chart-release-template.yaml
    with:
      branch: ${{ github.ref_name }}
      workflow-ref: chart-release-template.yaml
      chart-matrix: |
        [
          {
            "name": "Helm Chart Alpha",
            "directory": "charts/camunda-platform-alpha",
            "override": false
          }
        ]
